<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.fancyx.cees.dao.busi.CEES_SJKYQDao">

    <sql id="query_time_where">
        <if test="zmrqstart != null and zmrqstart != ''">
            AND zmrq >= #{zmrqstart}
        </if>
        <if test="zmrqend != null and zmrqend != ''">
            AND #{zmrqend} >= zmrq
        </if>
        <if test="sjkynumber != null  and sjkynumber != ''">
            AND #{sjkynumber} = sjkynumber
        </if>
    </sql>

    <sql id="query_where">

        <if test="queryIntStr != null">
            OR sjkyid = #{queryIntStr}
            OR cid = #{queryIntStr}
            OR pid = #{queryIntStr}
            OR ccid = #{queryIntStr}
            OR sn = #{queryIntStr}
            OR sn_project = #{queryIntStr}
            OR sn_test = #{queryIntStr}
            OR KUAISHU = #{queryIntStr}
            OR DWDM = #{queryIntStr}
            OR JSFZRBH = #{queryIntStr}
            OR XHRBH = #{queryIntStr}
            OR SYRBH = #{queryIntStr}
            OR WTZH = #{queryIntStr}
        </if>

        <if test="queryStr!=null and queryStr!=''">
            OR cnumber LIKE '%${queryStr}%'
            OR projectnumber LIKE '%${queryStr}%'
            OR client LIKE '%${queryStr}%'
            OR sjkynumber LIKE '%${queryStr}%'
            OR testnumber LIKE '%${queryStr}%'
            OR state LIKE '%${queryStr}%'
            OR remarks LIKE '%${queryStr}%'
            OR edittime LIKE '%${queryStr}%'
            OR edituser LIKE '%${queryStr}%'
            OR readtime LIKE '%${queryStr}%'
            OR WTDBH LIKE '%${queryStr}%'
            OR WTDWMC LIKE '%${queryStr}%'
            OR GCMC LIKE '%${queryStr}%'
            OR SYBH LIKE '%${queryStr}%'
            OR SGBW LIKE '%${queryStr}%'
            OR WTR LIKE '%${queryStr}%'
            OR SJZL LIKE '%${queryStr}%'
            OR SJZLQD LIKE '%${queryStr}%'
            OR CD LIKE '%${queryStr}%'
            OR CDDW LIKE '%${queryStr}%'
            OR SNPZ LIKE '%${queryStr}%'
            OR SNQDDJ LIKE '%${queryStr}%'
            OR CB LIKE '%${queryStr}%'
            OR SCD LIKE '%${queryStr}%'
            OR SZL LIKE '%${queryStr}%'
            OR CHLZL LIKE '%${queryStr}%'
            OR WJJZL LIKE '%${queryStr}%'
            OR WJJ2ZL LIKE '%${queryStr}%'
            OR PBBH LIKE '%${queryStr}%'
            OR SHA_SHUI LIKE '%${queryStr}%'
            OR SNMPF LIKE '%${queryStr}%'
            OR SNMP LIKE '%${queryStr}%'
            OR SMPF LIKE '%${queryStr}%'
            OR SMP LIKE '%${queryStr}%'
            OR BHGMPF LIKE '%${queryStr}%'
            OR BHGMP LIKE '%${queryStr}%'
            OR CHLMPF LIKE '%${queryStr}%'
            OR CHLMP LIKE '%${queryStr}%'
            OR WJJMPF LIKE '%${queryStr}%'
            OR WJJMP LIKE '%${queryStr}%'
            OR WJJ2MPF LIKE '%${queryStr}%'
            OR WJJ2MP LIKE '%${queryStr}%'
            OR YHTJ LIKE '%${queryStr}%'
            OR YQLQ LIKE '%${queryStr}%'
            OR YQSYRQ LIKE '%${queryStr}%'
            OR SKZZR LIKE '%${queryStr}%'
            OR SJBH LIKE '%${queryStr}%'
            OR SJLQ LIKE '%${queryStr}%'
            OR SJBC LIKE '%${queryStr}%'
            OR SYMJ LIKE '%${queryStr}%'
            OR HZPJ LIKE '%${queryStr}%'
            OR HZDK1 LIKE '%${queryStr}%'
            OR HZDK2 LIKE '%${queryStr}%'
            OR HZDK3 LIKE '%${queryStr}%'
            OR HZDK4 LIKE '%${queryStr}%'
            OR HZDK5 LIKE '%${queryStr}%'
            OR HZDK6 LIKE '%${queryStr}%'
            OR KYQD LIKE '%${queryStr}%'
            OR DDSJ LIKE '%${queryStr}%'
            OR YQBH LIKE '%${queryStr}%'
            OR BZ LIKE '%${queryStr}%'
            OR JL LIKE '%${queryStr}%'
            OR SYXMDM LIKE '%${queryStr}%'
            OR SYXMMC LIKE '%${queryStr}%'
            OR SHIYBH LIKE '%${queryStr}%'
            OR SYMC LIKE '%${queryStr}%'
            OR WTDWBH LIKE '%${queryStr}%'
            OR GCBH LIKE '%${queryStr}%'
            OR JSFZR LIKE '%${queryStr}%'
            OR XHR LIKE '%${queryStr}%'
            OR XHBZ LIKE '%${queryStr}%'
            OR XHYJ LIKE '%${queryStr}%'
            OR QFBZ LIKE '%${queryStr}%'
            OR QFYJ LIKE '%${queryStr}%'
            OR SYR LIKE '%${queryStr}%'
            OR ZXGC LIKE '%${queryStr}%'
            OR ZXBZ LIKE '%${queryStr}%'
            OR SYWTR LIKE '%${queryStr}%'
            OR JZBZ LIKE '%${queryStr}%'
            OR HGBZ LIKE '%${queryStr}%'
            OR SYJG LIKE '%${queryStr}%'
            OR CLYJ LIKE '%${queryStr}%'
            OR JLBBH LIKE '%${queryStr}%'
            OR BGBBH LIKE '%${queryStr}%'
        </if>

    </sql>

    <select id="selectByBean"
            parameterType="com.fancyx.cees.domain.vo.CEES_SJKYQDVo"
            resultType="com.fancyx.cees.domain.busi.CEES_SJKYQD">
        SELECT [sjkyid]
        ,[cid]
        ,[cnumber]
        ,[pid]
        ,[projectnumber]
        ,[client]
        ,[ccid]
        ,[sjkynumber]
        ,[testnumber]
        ,[sn]
        ,[sn_project]
        ,[sn_test]
        ,[state]
        ,[remarks]
        ,[edittime]
        ,[edituser]
        ,[readmark]
        ,[readtime]
        ,[WTDBH]
        ,[WTDWMC]
        ,[LYRQ]
        ,[GCMC]
        ,[SYBH]
        ,[SYRQ]
        ,[SGBW]
        ,[WTR]
        ,[SJZL]
        ,[SJZLQD]
        ,[CD]
        ,[CDDW]
        ,[SNPZ]
        ,[SNQDDJ]
        ,[CB]
        ,[SCD]
        ,[SZL]
        ,[CHLZL]
        ,[WJJZL]
        ,[WJJ2ZL]
        ,[PBBH]
        ,[SHA_SHUI]
        ,[SNMPF]
        ,[SNMP]
        ,[SMPF]
        ,[SMP]
        ,[BHGMPF]
        ,[BHGMP]
        ,[CHLMPF]
        ,[CHLMP]
        ,[WJJMPF]
        ,[WJJMP]
        ,[WJJ2MPF]
        ,[WJJ2MP]
        ,[ZMRQ]
        ,[YHTJ]
        ,[YQLQ]
        ,[YQSYRQ]
        ,[SKSDRQ]
        ,[SKZZR]
        ,[SJBH]
        ,[SYARQ]
        ,[SJLQ]
        ,[SJBC]
        ,[SYMJ]
        ,[KUAISHU]
        ,[HZPJ]
        ,[HZDK1]
        ,[HZDK2]
        ,[HZDK3]
        ,[HZDK4]
        ,[HZDK5]
        ,[HZDK6]
        ,[KYQD]
        ,[DDSJ]
        ,[YQBH]
        ,[BZ]
        ,[JL]
        ,[DWDM]
        ,[SYXMDM]
        ,[SYXMMC]
        ,[SHIYBH]
        ,[SYMC]
        ,[WTDWBH]
        ,[GCBH]
        ,[JSFZRBH]
        ,[JSFZR]
        ,[XHRBH]
        ,[XHR]
        ,[XHBZ]
        ,[XHYJ]
        ,[QFBZ]
        ,[QFYJ]
        ,[SYRBH]
        ,[SYR]
        ,[BGRQ]
        ,[ZXGC]
        ,[ZXBZ]
        ,[SYWTR]
        ,[JZBZ]
        ,[HGBZ]
        ,[SYJG]
        ,[CLYJ]
        ,[WTZH]
        ,[JLBBH]
        ,[BGBBH]
        FROM [CEES_SJKYQD]

        <where>
            <!--
                引用一个sql片段
                where可以自动去掉条件中的第一个and
            -->
            <include refid="query_time_where"></include>
            <include refid="query_where"></include>
        </where>
    </select>

    <select id="selectByBeanCount"
            parameterType="com.fancyx.cees.domain.vo.CEES_SJKYQDVo"
            resultType="java.lang.Integer">
        SELECT
        COUNT(1)
        FROM
        [CEES_SJKYQD]
        <where>
            <!--
                引用一个sql片段
                where可以自动去掉条件中的第一个and
            -->
            <include refid="query_time_where"></include>
            <include refid="query_where"></include>
        </where>
    </select>

    <delete id="delete" parameterType="int">
        DELETE FROM [CEES_SJKYQD]
        where
        [sjkyid] =  #{id}
        AND  [state] = '录入'
    </delete>

    <update id="update" parameterType="com.fancyx.cees.domain.vo.CEES_SJKYQDVo">
        UPDATE [CEES_SJKYQD]
        SET [cid] = #{cid}
        ,[cnumber] = #{cnumber}
        ,[pid] = #{pid}
        ,[projectnumber] = #{projectnumber}
        ,[client] = #{client}
        ,[ccid] = #{ccid}
        ,[sjkynumber] = #{sjkynumber}
        ,[testnumber] = #{testnumber}
        ,[sn] = #{sn}
        ,[sn_project] = #{sn_project}
        ,[sn_test] = #{sn_test}
        ,[state] = #{state}
        ,[remarks] = #{remarks}
        ,[edittime] = #{edittime}
        ,[edituser] = #{edituser}
        ,[readmark] = #{readmark}
        ,[readtime] = #{readtime}
        ,[WTDBH] = #{WTDBH}
        ,[WTDWMC] = #{WTDWMC}
        ,[LYRQ] = #{LYRQ}
        ,[GCMC] = #{GCMC}
        ,[SYBH] = #{SYBH}
        ,[SYRQ] = #{SYRQ}
        ,[SGBW] = #{SGBW}
        ,[WTR] = #{WTR}
        ,[SJZL] = #{SJZL}
        ,[SJZLQD] = #{SJZLQD}
        ,[CD] = #{CD}
        ,[CDDW] = #{CDDW}
        ,[SNPZ] = #{SNPZ}
        ,[SNQDDJ] = #{SNQDDJ}
        ,[CB] = #{CB}
        ,[SCD] = #{SCD}
        ,[SZL] = #{SZL}
        ,[CHLZL] = #{CHLZL}
        ,[WJJZL] = #{WJJZL}
        ,[WJJ2ZL] = #{WJJ2ZL}
        ,[PBBH] = #{PBBH}
        ,[SHA_SHUI] = #{SHA_SHUI}
        ,[SNMPF] = #{SNMPF}
        ,[SNMP] = #{SNMP}
        ,[SMPF] = #{SMPF}
        ,[SMP] = #{SMP}
        ,[BHGMPF] = #{BHGMPF}
        ,[BHGMP] = #{BHGMP}
        ,[CHLMPF] = #{CHLMPF}
        ,[CHLMP] = #{CHLMP}
        ,[WJJMPF] = #{WJJMPF}
        ,[WJJMP] = #{WJJMP}
        ,[WJJ2MPF] = #{WJJ2MPF}
        ,[WJJ2MP] = #{WJJ2MP}
        ,[ZMRQ] = #{ZMRQ}
        ,[YHTJ] = #{YHTJ}
        ,[YQLQ] = #{YQLQ}
        ,[YQSYRQ] = #{YQSYRQ}
        ,[SKSDRQ] = #{SKSDRQ}
        ,[SKZZR] = #{SKZZR}
        ,[SJBH] = #{SJBH}
        ,[SYARQ] = #{SYARQ}
        ,[SJLQ] = #{SJLQ}
        ,[SJBC] = #{SJBC}
        ,[SYMJ] = #{SYMJ}
        ,[KUAISHU] = #{KUAISHU}
        ,[HZPJ] = #{HZPJ}
        ,[HZDK1] = #{HZDK1}
        ,[HZDK2] = #{HZDK2}
        ,[HZDK3] = #{HZDK3}
        ,[HZDK4] = #{HZDK4}
        ,[HZDK5] = #{HZDK5}
        ,[HZDK6] = #{HZDK6}
        ,[KYQD] = #{KYQD}
        ,[DDSJ] = #{DDSJ}
        ,[YQBH] = #{YQBH}
        ,[BZ] = #{BZ}
        ,[JL] = #{JL}
        ,[DWDM] = #{DWDM}
        ,[SYXMDM] = #{SYXMDM}
        ,[SYXMMC] = #{SYXMMC}
        ,[SHIYBH] = #{SHIYBH}
        ,[SYMC] = #{SYMC}
        ,[WTDWBH] = #{WTDWBH}
        ,[GCBH] = #{GCBH}
        ,[JSFZRBH] = #{JSFZRBH}
        ,[JSFZR] = #{JSFZR}
        ,[XHRBH] = #{XHRBH}
        ,[XHR] = #{XHR}
        ,[XHBZ] = #{XHBZ}
        ,[XHYJ] = #{XHYJ}
        ,[QFBZ] = #{QFBZ}
        ,[QFYJ] = #{QFYJ}
        ,[SYRBH] = #{SYRBH}
        ,[SYR] = #{SYR}
        ,[BGRQ] = #{BGRQ}
        ,[ZXGC] = #{ZXGC}
        ,[ZXBZ] = #{ZXBZ}
        ,[SYWTR] = #{SYWTR}
        ,[JZBZ] = #{JZBZ}
        ,[HGBZ] = #{HGBZ}
        ,[SYJG] = #{SYJG}
        ,[CLYJ] = #{CLYJ}
        ,[WTZH] = #{WTZH}
        ,[JLBBH] = #{JLBBH}
        ,[BGBBH] = #{BGBBH}
        WHERE
        [CEES_SJKYQD].[sjkyid] = #{sjkyid}
    </update>

    <insert id="insert" parameterType="com.fancyx.cees.domain.vo.CEES_SJKYQDVo">
        INSERT INTO [CEES_SJKYQD]
        ([cid]
        ,[cnumber]
        ,[pid]
        ,[projectnumber]
        ,[client]
        ,[ccid]
        ,[sjkynumber]
        ,[testnumber]
        ,[sn]
        ,[sn_project]
        ,[sn_test]
        ,[state]
        ,[remarks]
        ,[edittime]
        ,[edituser]
        ,[readmark]
        ,[readtime]
        ,[WTDBH]
        ,[WTDWMC]
        ,[LYRQ]
        ,[GCMC]
        ,[SYBH]
        ,[SYRQ]
        ,[SGBW]
        ,[WTR]
        ,[SJZL]
        ,[SJZLQD]
        ,[CD]
        ,[CDDW]
        ,[SNPZ]
        ,[SNQDDJ]
        ,[CB]
        ,[SCD]
        ,[SZL]
        ,[CHLZL]
        ,[WJJZL]
        ,[WJJ2ZL]
        ,[PBBH]
        ,[SHA_SHUI]
        ,[SNMPF]
        ,[SNMP]
        ,[SMPF]
        ,[SMP]
        ,[BHGMPF]
        ,[BHGMP]
        ,[CHLMPF]
        ,[CHLMP]
        ,[WJJMPF]
        ,[WJJMP]
        ,[WJJ2MPF]
        ,[WJJ2MP]
        ,[ZMRQ]
        ,[YHTJ]
        ,[YQLQ]
        ,[YQSYRQ]
        ,[SKSDRQ]
        ,[SKZZR]
        ,[SJBH]
        ,[SYARQ]
        ,[SJLQ]
        ,[SJBC]
        ,[SYMJ]
        ,[KUAISHU]
        ,[HZPJ]
        ,[HZDK1]
        ,[HZDK2]
        ,[HZDK3]
        ,[HZDK4]
        ,[HZDK5]
        ,[HZDK6]
        ,[KYQD]
        ,[DDSJ]
        ,[YQBH]
        ,[BZ]
        ,[JL]
        ,[DWDM]
        ,[SYXMDM]
        ,[SYXMMC]
        ,[SHIYBH]
        ,[SYMC]
        ,[WTDWBH]
        ,[GCBH]
        ,[JSFZRBH]
        ,[JSFZR]
        ,[XHRBH]
        ,[XHR]
        ,[XHBZ]
        ,[XHYJ]
        ,[QFBZ]
        ,[QFYJ]
        ,[SYRBH]
        ,[SYR]
        ,[BGRQ]
        ,[ZXGC]
        ,[ZXBZ]
        ,[SYWTR]
        ,[JZBZ]
        ,[HGBZ]
        ,[SYJG]
        ,[CLYJ]
        ,[WTZH]
        ,[JLBBH]
        ,[BGBBH])
        VALUES
        (#{cid}
        ,#{cnumber}
        ,#{pid}
        ,#{projectnumber}
        ,#{client}
        ,#{ccid}
        ,#{sjkynumber}
        ,#{testnumber}
        ,#{sn}
        ,#{sn_project}
        ,#{sn_test}
        ,#{state}
        ,#{remarks}
        ,#{edittime}
        ,#{edituser}
        ,#{readmark}
        ,#{readtime}
        ,#{WTDBH}
        ,#{WTDWMC}
        ,#{LYRQ}
        ,#{GCMC}
        ,#{SYBH}
        ,#{SYRQ}
        ,#{SGBW}
        ,#{WTR}
        ,#{SJZL}
        ,#{SJZLQD}
        ,#{CD}
        ,#{CDDW}
        ,#{SNPZ}
        ,#{SNQDDJ}
        ,#{CB}
        ,#{SCD}
        ,#{SZL}
        ,#{CHLZL}
        ,#{WJJZL}
        ,#{WJJ2ZL}
        ,#{PBBH}
        ,#{SHA_SHUI}
        ,#{SNMPF}
        ,#{SNMP}
        ,#{SMPF}
        ,#{SMP}
        ,#{BHGMPF}
        ,#{BHGMP}
        ,#{CHLMPF}
        ,#{CHLMP}
        ,#{WJJMPF}
        ,#{WJJMP}
        ,#{WJJ2MPF}
        ,#{WJJ2MP}
        ,#{ZMRQ}
        ,#{YHTJ}
        ,#{YQLQ}
        ,#{YQSYRQ}
        ,#{SKSDRQ}
        ,#{SKZZR}
        ,#{SJBH}
        ,#{SYARQ}
        ,#{SJLQ}
        ,#{SJBC}
        ,#{SYMJ}
        ,#{KUAISHU}
        ,#{HZPJ}
        ,#{HZDK1}
        ,#{HZDK2}
        ,#{HZDK3}
        ,#{HZDK4}
        ,#{HZDK5}
        ,#{HZDK6}
        ,#{KYQD}
        ,#{DDSJ}
        ,#{YQBH}
        ,#{BZ}
        ,#{JL}
        ,#{DWDM}
        ,#{SYXMDM}
        ,#{SYXMMC}
        ,#{SHIYBH}
        ,#{SYMC}
        ,#{WTDWBH}
        ,#{GCBH}
        ,#{JSFZRBH}
        ,#{JSFZR}
        ,#{XHRBH}
        ,#{XHR}
        ,#{XHBZ}
        ,#{XHYJ}
        ,#{QFBZ}
        ,#{QFYJ}
        ,#{SYRBH}
        ,#{SYR}
        ,#{BGRQ}
        ,#{ZXGC}
        ,#{ZXBZ}
        ,#{SYWTR}
        ,#{JZBZ}
        ,#{HGBZ}
        ,#{SYJG}
        ,#{CLYJ}
        ,#{WTZH}
        ,#{JLBBH}
        ,#{BGBBH})

    </insert>

    <select id="maxSnProject" resultType="java.lang.Integer">
        select
        ISNULL(MAX(sn),0)
        from CEES_SJKYQD
    </select>

    <select id="maxCnumber" resultType="java.lang.Integer">
        select
        ISNULL(MAX((cast(cnumber  as int))),0)
        from CEES_SJKYQD
    </select>

    <select id="maxProjectnumber" resultType="java.lang.Integer">
        select
        ISNULL(MAX((cast(projectnumber  as int))),0)
        from CEES_SJKYQD
    </select>

    <select id="maxSjkynumber" resultType="String">
        select
        ISNULL(MAX((Sjkynumber )),0)
        from CEES_SJKYQD
    </select>

</mapper>
