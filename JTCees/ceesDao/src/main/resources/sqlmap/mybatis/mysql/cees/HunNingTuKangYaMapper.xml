<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.fancyx.cees.dao.busi.HunNingTuKangYaDao">



    <select id="selectByBean" resultType="com.fancyx.cees.domain.busi.HunNingTuKangYa"
            parameterType="com.fancyx.cees.domain.busi.HunNingTuKangYaDTO">
      select
        kyid,cid,cnumber,pid,projectnumber,client,ccid,kynumber,testnumber,sn,sn_project,sn_test,state,
	    remarks,edittime,edituser,readmark,readtime,HNTDW,JSFZRBH,CHLYL,HZ3,SHASYBH,PZJMC,CHLMC,QFBZ,
	    SYJG,YQTLD,GCBH,WJJYL,SYXMMC,SHIZDLJ,SYL,ZHQD,JLBBH,XHR,FMHMC,SNBH,PZJZYSNL,SYMJ,ZXBZ,SGBW,YQSYRQ,
	    WTDWBH,SHIHNL,SHAYL,DDQD,SYRBH,SHAXDMS,FMHCD,SYWTR,JZBZ,WJJCL,SNSYBH,HZ1,WTDBH,SJQD,PHBBH,FMHYL,HZPJ,
	    SHICD,JL,CHLCD,QFYJ,SJLQ,SHB,CLYJ,SHIYBH,GCMC,BGBBH,SHIPZ,XHBZ,SNCB,WJJMC,ZXGC,SJCC,SL,SKSDRQ,SYXMDM,
	    SHISYBH,JSFZR,SHAHNL,SYR,PZJCD,SJBH,SYMC,SCTLD,SHACD,HZ2,WJJZYSNL,DWDM,SNYL,ZMRQ,WTDWMC,KYQD,BGRQ,
	    CHLZYSNL,XHRBH,SYRQ,PZJCL,SGPHB,SNPZ,SHAPZ,YQLQ,WTZH,SYBH,YQBH,SHIYL,BZ,FMHZYSNL,XHYJ,WJJCD,SNCCRQ,
	    HGBZ,NPQD,SKYHTJ,PZJYL
      from
          CEES_Hntky
        <where>
            1 = 1
            <if test="projectnumber != null and projectnumber != ''">
                AND projectnumber = #{projectnumber,jdbcType=VARCHAR}
            </if>
            <if test="state != null and state != ''">
                AND state = #{state,jdbcType=VARCHAR}
            </if>
            <if test="zmrqstart != null and zmrqstart != ''">
                AND zmrq >= #{zmrqstart,jdbcType=VARCHAR}
            </if>
            <if test="zmrqend != null and zmrqend != ''">
                AND #{zmrqend,jdbcType=VARCHAR} >= zmrq
            </if>
        </where>
        ORDER BY kyid DESC
    </select>
    <select id="selectByBeanCount" resultType="java.lang.Integer"  parameterType="com.fancyx.cees.domain.busi.HunNingTuKangYaDTO" >
        SELECT
        COUNT(1)
        FROM
        CEES_Hntky
        <where>
            1 = 1
            <if test="projectnumber != null and projectnumber != ''">
                AND projectnumber = #{projectnumber,jdbcType=VARCHAR}
            </if>
            <if test="state != null and state != ''">
                AND state = #{state,jdbcType=VARCHAR}
            </if>
            <if test="zmrqstart != null and zmrqstart != ''">
                AND zmrq >= #{zmrqstart,jdbcType=VARCHAR}
            </if>
            <if test="zmrqend != null and zmrqend != ''">
                AND #{zmrqend,jdbcType=VARCHAR} >= zmrq
            </if>
        </where>
    </select>

</mapper>
