##显示在右侧侧内容
<div>
##工具条
    <div class="content-bar">
        <div class="layui-form-item">

            <div class="layui-inline">
                <label class="layui-form-label" style="width: 60px;">制模日期</label>
                <div class="layui-input-inline" style="width: 150px;">
                    <input type="text" class="layui-input" id="beginTime" placeholder="yyyy-MM-dd">
                </div>

                <label class="layui-form-label" style="width: 20px;">至</label>

                <div class="layui-input-inline" style="width: 150px;">
                    <input type="text" class="layui-input" id="endTime" placeholder="yyyy-MM-dd">
                </div>
                <div class="layui-input-inline" style="width: 64px">
                    <button class="layui-btn " onclick="initTable()">查询</button>
                </div>

                <div class="layui-input-inline" style="width: 64px">
                    <button id="deleteSelected" class="layui-btn layui-btn-danger" data-type="getCheckData">删除选中
                    </button>
                </div>
            </div>
        </div>
    </div>
##表格
    <table id="tableData" lay-filter="test"></table>
##表格的工具条
    <script type="text/html" id="barDemo">
        ##<a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="detail">查看</a>
        <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
        <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
    </script>
</div>

##弹窗

##查看和修改 - 只有查看权限时将所有按钮输入框变成不可使用
<form id="updateModal" class="layui-form my-layer-modal none" action="">

    <div class="layui-form-item">

        <table class="layui-table">
            <tbody>
            <tr>
                <td>
                    <div class="layui-form-item">
                        <div class="layui-form-item">
                            <div class="layui-inline blue-font">
                                <label class="layui-form-label ">抗压序号</label>
                                <div class="layui-input-inline my-w-200">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>

                            </div>
                            <div class="layui-inline blue-font">
                                <label class="layui-form-label">施工单位</label>
                                <div class="layui-input-inline my-w-510">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-inline blue-font">
                                <label class="layui-form-label">送检人</label>
                                <div class="layui-input-inline my-w-200">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">工程名称</label>
                                <div class="layui-input-inline my-w-510">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-inline blue-font">
                                <label class="layui-form-label">送检编号</label>
                                <div class="layui-input-inline my-w-200">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">施工部位</label>
                                <div class="layui-input-inline my-w-510">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">设计强度</label>
                                <div class="layui-input-inline my-w-200">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">混凝土单位</label>
                                <div class="layui-input-inline my-w-510">
                                    <select name="city" lay-verify="required">
                                        <option value=""></option>
                                        <option value="0">北京</option>
                                        <option value="1">上海</option>
                                        <option value="2">广州</option>
                                        <option value="3">深圳</option>
                                        <option value="4">杭州</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">拟配强度</label>
                                <div class="layui-input-inline my-w-200">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>

                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">粘贴抗压号</label>
                                <div class="layui-input-inline my-w-100">
                                    <select name="city" lay-verify="required">
                                        <option value=""></option>
                                        <option value="0">北京</option>
                                        <option value="1">上海</option>
                                        <option value="2">广州</option>
                                        <option value="3">深圳</option>
                                        <option value="4">杭州</option>
                                    </select>
                                </div>

                                <div class="layui-form-mid">要求坍落度</div>
                                <div class="layui-input-inline my-w-100">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>

                                <div class="layui-form-mid">实测坍落度(mm)</div>
                                <div class="layui-input-inline my-w-100">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>

                            </div>
                        </div>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
        <table class="layui-table">
            <tbody>
            <tr>
                <td>
                    <div class="layui-form-item">
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">水泥品种</label>
                                <div class="layui-input-inline" style="width: 62px;">
                                    <select name="city" lay-verify="required">
                                        <option value=""></option>
                                        <option value="0">北京</option>
                                        <option value="1">上海</option>
                                        <option value="2">广州</option>
                                        <option value="3">深圳</option>
                                        <option value="4">杭州</option>
                                    </select>
                                </div>
                                <div class="layui-form-mid">水泥标号</div>
                                <div class="layui-input-inline" style="width: 62px;">
                                    <select name="city" lay-verify="required">
                                        <option value=""></option>
                                        <option value="0">北京</option>
                                        <option value="1">上海</option>
                                        <option value="2">广州</option>
                                        <option value="3">深圳</option>
                                        <option value="4">杭州</option>
                                    </select>
                                </div>
                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">水泥厂别</label>
                                <div class="layui-input-inline my-w-200">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                                <div class="layui-form-mid">出厂日期</div>
                                <div class="layui-input-inline" style="width: 86px;">
                                    <input type="text" class="layui-input" placeholder="yyyy-MM-dd">
                                </div>
                                <div class="layui-form-mid">试验编号</div>
                                <div class="layui-input-inline" style="width:86px;">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                        </div>

                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">砂子品种</label>
                                <div class="layui-input-inline  my-w-200">
                                    <select name="city" lay-verify="required">
                                        <option value=""></option>
                                        <option value="0">北京</option>
                                        <option value="1">上海</option>
                                        <option value="2">广州</option>
                                        <option value="3">深圳</option>
                                        <option value="4">杭州</option>
                                    </select>
                                </div>

                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">砂子产地</label>
                                <div class="layui-input-inline  my-w-200">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                                <div class="layui-form-mid">试验编号</div>
                                <div class="layui-input-inline" style="width: 250px;">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                        </div>

                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">石子品种</label>
                                <div class="layui-input-inline  my-w-200">
                                    <select name="city" lay-verify="required">
                                        <option value=""></option>
                                        <option value="0">北京</option>
                                        <option value="1">上海</option>
                                        <option value="2">广州</option>
                                        <option value="3">深圳</option>
                                        <option value="4">杭州</option>
                                    </select>
                                </div>

                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">石子产地</label>
                                <div class="layui-input-inline  my-w-200">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                                <div class="layui-form-mid">试验编号</div>
                                <div class="layui-input-inline " style="width: 250px;">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                        </div>

                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">粉煤灰名称</label>
                                <div class="layui-input-inline my-w-200">
                                    <select name="city" lay-verify="required">
                                        <option value=""></option>
                                        <option value="0">北京</option>
                                        <option value="1">上海</option>
                                        <option value="2">广州</option>
                                        <option value="3">深圳</option>
                                        <option value="4">杭州</option>
                                    </select>
                                </div>

                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">粉煤灰产地</label>
                                <div class="layui-input-inline my-w-200">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                                <div class="layui-form-mid">最大粒径</div>
                                <div class="layui-input-inline" style="width: 250px;">
                                    <select name="city" lay-verify="required">
                                        <option value=""></option>
                                        <option value="0">北京</option>
                                        <option value="1">上海</option>
                                        <option value="2">广州</option>
                                        <option value="3">深圳</option>
                                        <option value="4">杭州</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">掺合料名称</label>
                                <div class="layui-input-inline my-w-200">
                                    <select name="city" lay-verify="required">
                                        <option value=""></option>
                                        <option value="0">北京</option>
                                        <option value="1">上海</option>
                                        <option value="2">广州</option>
                                        <option value="3">深圳</option>
                                        <option value="4">杭州</option>
                                    </select>
                                </div>

                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">掺合料产地</label>
                                <div class="layui-input-inline my-w-200">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                        </div>

                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">外加剂名称</label>
                                <div class="layui-input-inline  my-w-200">
                                    <select name="city" lay-verify="required">
                                        <option value=""></option>
                                        <option value="0">北京</option>
                                        <option value="1">上海</option>
                                        <option value="2">广州</option>
                                        <option value="3">深圳</option>
                                        <option value="4">杭州</option>
                                    </select>
                                </div>

                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">外加剂产地</label>
                                <div class="layui-input-inline my-w-200">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                        </div>
                        <div class="layui-form-item">
                            <div class="layui-inline">
                                <label class="layui-form-label">外加剂2名称</label>
                                <div class="layui-input-inline my-w-200">
                                    <select name="city" lay-verify="required">
                                        <option value=""></option>
                                        <option value="0">北京</option>
                                        <option value="1">上海</option>
                                        <option value="2">广州</option>
                                        <option value="3">深圳</option>
                                        <option value="4">杭州</option>
                                    </select>
                                </div>

                            </div>
                            <div class="layui-inline">
                                <label class="layui-form-label">外加剂2产地</label>
                                <div class="layui-input-inline my-w-200">
                                    <input type="text" name="price_max" autocomplete="off" class="layui-input">
                                </div>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>

        <div class="layui-form-item">
            <div class="layui-form-item">
                <table class="layui-table">
                ##                <colgroup>
                ##                    <col width="15">
                ##                    <col width="200">
                ##                    <col>
                ##                </colgroup>

                    <tbody>
                    <tr>
                    ##                    <td></td>
                        <td>材料名称</td>
                        <td>水泥</td>
                        <td>水</td>
                        <td>砂子</td>
                        <td>石子</td>
                        <td>粉煤灰</td>
                        <td>掺合料</td>
                        <td>外加剂</td>
                        <td>外加剂2</td>
                    </tr>
                    <tr>
                    ##                    <td></td>
                    ##材料名称
                        <td>用量(kg/m3)</td>
                    ##水泥
                        <td>
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    ##水
                        <td>
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    ##砂子
                        <td>
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    ##石子
                        <td>
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    ##粉煤灰
                        <td>
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    ##掺合料
                        <td>
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    ##外加剂
                        <td>
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    ##外加剂2
                        <td>
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    </tr>

                    </tbody>
                </table>
            </div>

            <div class="layui-form-item">
                <table class="layui-table">
                    <tbody>
                    <tr>
                        <td colspan="2">配合比编号</td>
                        <td>水灰比</td>
                        <td>砂率(%)</td>
                        <td class="blue-font">试块收到日期</td>
                        <td>制模日期</td>
                        <td>要求龄期</td>
                        <td class="blue-font">要求试验日期</td>
                        <td>试块养护条件</td>
                    </tr>
                    <tr>
                    ##配合比编号
                        <td colspan="2">
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    ##水灰比
                        <td>
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    ##砂率(%)
                        <td>
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    ##试块收到日期
                        <td>
                            <input type="text" class="layui-input" placeholder="yyyy-MM-dd">
                        </td>
                    ##制模日期
                        <td>
                            <input type="text" class="layui-input" placeholder="yyyy-MM-dd">
                        </td>
                    ##要求龄期
                        <td>
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    ##要求试验日期
                        <td>
                            <input type="text" class="layui-input" placeholder="yyyy-MM-dd">
                        </td>
                    ##试块养护条件
                        <td>
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    </tr>

                    </tbody>
                </table>
            </div>

            <div class="layui-form-item">
                <table class="layui-table">
                    <tbody>
                    ##头
                    <tr>
                        <td rowspan="2">试件编号</td>
                        <td rowspan="2" class="blue-font">试验日期</td>
                        <td rowspan="2">实际期龄</td>
                        <td rowspan="2">试件尺寸</td>
                        <td rowspan="2" class="blue-font">受压面积</td>
                        <td colspan="2" class="blue-font">荷载</td>
                        <td rowspan="2" class="blue-font">抗压强度</td>
                        <td rowspan="2" class="blue-font">折合150mm立方强度</td>
                        <td rowspan="2" class="blue-font">达到设计强度</td>
                    </tr>
                    <tr>
                        <td class="blue-font">单块</td>
                        <td class="blue-font">平均</td>
                    </tr>

                    ##内容
                    <tr>
                    ##试件编号
                        <td rowspan="3">
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    ##试验日期
                        <td rowspan="3">
                            <input type="text" class="layui-input" placeholder="yyyy-MM-dd">
                        </td>
                    ##实际期龄
                        <td rowspan="3">
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    ##试件尺寸
                        <td rowspan="3">
                            <select name="city" lay-verify="required">
                                <option value=""></option>
                                <option value="0">北京</option>
                                <option value="1">上海</option>
                                <option value="2">广州</option>
                                <option value="3">深圳</option>
                                <option value="4">杭州</option>
                            </select>
                        </td>
                    ##受压面积
                        <td rowspan="3">
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    ##荷载-单块-1
                        <td>
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>

                    ##荷载-平均
                        <td rowspan="3">
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>

                    ##抗压强度
                        <td rowspan="3">
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td rowspan="3">
                    ##折合150mm立方强度
                        <td rowspan="3">
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    ##达到设计强度
                        <td rowspan="3">
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    </tr>
                    ##荷载-单块-2,3
                    <tr>
                        <td>
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    </tr>
                    <tr>
                        <td colspan="10"></td>
                    </tr>

                    <tr>
                        <td colspan="1">备注</td>
                        <td colspan="9">
                            <input type="text" name="title" required lay-verify="required"
                                   autocomplete="off" class="layui-input">
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>

            <div class="layui-form-item">
                <table class="layui-table">
                    <tbody>
                    <tr>
                        <td class="layui-form-item">


                            <div class="layui-inline">
                                <div class="layui-form-mid blue-font">技术负责人</div>
                                <div class="layui-input-inline my-w-150">
                                    <input type="text" name="price_min" autocomplete="off"
                                           class="layui-input">
                                </div>
                            </div>

                            <div class="layui-inline">
                                <div class="layui-form-mid blue-font">校核人</div>
                                <div class="layui-input-inline my-w-150" >
                                    <input type="text" name="price_min" autocomplete="off"
                                           class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <div class="layui-form-mid blue-font">试验人</div>
                                <div class="layui-input-inline my-w-150" >
                                    <input type="text" name="price_min" autocomplete="off"
                                           class="layui-input">
                                </div>
                            </div>
                            <div class="layui-inline">
                                <div class="layui-form-mid blue-font">报告日期</div>
                                <div class="layui-input-inline my-w-150" >
                                    <input type="text" class="layui-input" placeholder="yyyy-MM-dd">
                                </div>
                            </div>

                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</form>


<script>

    window.onload = function () {
        init();
    };

    function init() {
        //加载模块插件
        initModels();
        //初始化用户权限限制
        initUserPower();
        //初始化表格
        initTable();
    };


    //初始化固定模块
    function initModels() {
        layui.use(['form', 'laydate', 'laypage', 'layer', 'table', 'carousel', 'upload', 'element'], function () {
            var laydate = layui.laydate,//日期
                    laypage = layui.laypage,//分页
                    layer = layui.layer, //弹层
                    table = layui.table,//表格
                    carousel = layui.carousel, //轮播
                    upload = layui.upload,//上传
                    element = layui.element, //元素操作
                    form = layui.form; //表单

            //执行一个laydate实例
            laydate.render({
                elem: '#beginTime' //指定元素
            });

            laydate.render({
                elem: '#endTime' //指定元素
            });
        });
    }

    //获取用户权限
    function initUserPower() {
        //todo - 从父页面获取用户用户权限数据根据本页面情况隐藏或者不隐藏
    }

    //弹出失败信息
    function failAlert(msg) {
        layer.alert(msg, {
            icon: 2,
            skin: 'layer-ext-moon',
        });
    }

    //初始化表格
    function initTable() {
        //初始化table表格
        var loadTable = function (json) {

            if (json == null || json == undefined) {
                return;
            }

            //获取表头
            var getCols = function (json) {

                var data = json.data;
                var cols = [[]];
                cols[0][0] = {field: 'checkbox', type: 'checkbox', title: '全选'};
                cols[0][1] = {field: 'numbers', type: 'numbers', title: '序号'};

                for (var i = 0; i < data.length; i++) {

                    var row = data[i];
                    var gridmc = row['gridmc'];
                    var zw = row['zw'];
                    var col = {field: gridmc, title: zw};
                    cols[0].push(col);
                }

                var toolbar = {fixed: 'right', align: 'center', toolbar: '#barDemo', width: 200};
                cols[0].push(toolbar);

                return cols;
            }

            //table表格初始化参数
            var tableOptions = {
                elem: '#tableData',
                height: 510,
                url: '/shiYanXiangMu/hunNIngTuKangYa/search', //数据接口
                page: true,//开启分页
                request: {
                    pageName: 'page', //页码的参数名称，默认：page
                    limitName: 'limit' //每页数据量的参数名，默认：limit
                },
                response: {
                    statusName: 'code',//数据状态的字段名称，默认：code
                    statusCode: 0,//成功的状态码，默认：0
                    msgName: 'msg',//状态信息的字段名称，默认：msg
                    countName: 'count', //数据总数的字段名称，默认：count
                    dataName: 'data' //数据列表的字段名称，默认：data
                },
                where: {
                    zmrqstart: jQuery("#beginTime").val(), //制模日期开始
                    zmrqend: jQuery("#endTime").val()  //制模日期结束
                },
                skin: {
                    size: 'lg'
                },
                cols: getCols(json)
            };

            //执行一个 table 实例
            layui.use(['table'], function () {
                var table = layui.table;//表格
                table.render(tableOptions);

                //监听工具条
                //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
                table.on('tool(test)', function (obj) {
                    var data = obj.data //获得当前行数据
                            , layEvent = obj.event; //获得 lay-event 对应的值
                    if (layEvent === 'del') {
                        layer.confirm('真的删除行么', {
                            icon: 3,
                            title: '提示'
                        }, function (index) {
                            obj.del(); //删除对应行（tr）的DOM结构
                            layer.close(index);
                            //向服务端发送删除指令
                        });
                    } else if (layEvent === 'edit') {
//                        layer.msg('编辑操作');
                        layer.open({
                            title: "修改",
                            type: 1,
                            area: ['1100px', '580px'], //宽高
                            content: jQuery('#updateModal'),
                            success: function (layer) {
                                //这个函数就是在弹窗弹出成功后执行的函数
                                //这个layer包含了弹窗里面的所有的html内容
                                //有了这个就非常好办了，我用js调试了一下马上就定位到了弹窗框的位置然后改了他的class属性，成功。
                                //这是我定位的第一个按钮的代码
//                                layer[0].childNodes[3].childNodes[0].attributes[0].value = 'layui-layer-btn1';
                            },
                            btn: ['保存', '重置', '取消'],
                            btnAlign: 'r', //按钮居中
//                            shade: 0 ,//不显示遮罩
                            btn1: function (index, layero) {//保存回调
                                return false; //开启该代码可禁止点击该按钮关闭
                            },
                            btn2: function (index, layero) {//重置回调
                                return false; //开启该代码可禁止点击该按钮关闭
                            },
                            btn3: function (index, layero) {//取消回调
                                layer.close(index);
                            }
                        });
                    }
                });

                var active = {
                    getCheckData: function () { //获取选中数据
                        var checkStatus = table.checkStatus('tableData')
                                , data = checkStatus.data;
                        layer.alert(JSON.stringify(data));
                    }, getCheckLength: function () { //获取选中数目
                        var checkStatus = table.checkStatus('tableData')
                                , data = checkStatus.data;
                        layer.msg('选中了：' + data.length + ' 个');
                    }, isAll: function () { //验证是否全选
                        var checkStatus = table.checkStatus('tableData');
                        layer.msg(checkStatus.isAll ? '全选' : '未全选')
                    }
                };

                $('#deleteSelected').on('click', function () {
                    var type = $(this).data('type');
                    active[type] ? active[type].call(this) : '';
                });
            });


        }

        //检查返回值并执行回调
        var checkResult = function (resultJson, callback) {
            if (resultJson == null || resultJson == undefined) {
                failAlert("获取数据失败！");
                return;
            } else {
                if (resultJson.code == 0) {
                    callback(resultJson);
                }
            }
        };

        //请求列数据-成功后请求表数据
        jQuery.ajax({
            type: 'post',
            url: "/shiYanXiangMu/hunNIngTuKangYa/getShowCol.action",
            dataType: 'json',
            data: {},
            async: false,
            success: function (json) {
                checkResult(json, loadTable);
            },
            err: function (err) {
                failAlert("连接服务器失败！");
            }
        });
    }


</script>