<link rel="stylesheet" href="/nav/css/cees/shiYanXiangMu/hunNingTukangYaPopUpStyle.css">
<link rel="stylesheet" href="/nav/css/cees/shiYanXiangMu/print.css">
<script src="/nav/jquery/jQuery.print.js"></script>
<script src="/nav/js/iframe2.js"></script>

##显示在右侧侧内容
<div>
##工具条
    <div class="content-bar" id="queryWrapper">
        <div class="layui-form-item">

            <div class="layui-inline">
                <label class="layui-form-label width-60">制模日期</label>
                <div class="layui-input-inline width-150">
                    <input type="text" class="layui-input" id="beginTime" placeholder="yyyy-MM-dd">
                </div>

                <label class="layui-form-label width-20">至</label>

                <div class="layui-input-inline width-150">
                    <input type="text" class="layui-input" id="endTime" placeholder="yyyy-MM-dd">
                </div>
                <div class="layui-input-inline width-150">
                    <input type="text" class="layui-input" id="queryStr">
                </div>

                <div class="layui-input-inline  width-64">
                    <button class="layui-btn " onclick="initGetShowCol(initTable)">查询</button>
                </div>

                <div class="layui-input-inline width-64">
                    <button class="layui-btn" lay-event="add" onclick="showAddModal()">新增</button>
                </div>

            </div>
        </div>
    </div>
##表格
    <table id="tableData" lay-filter="test"></table>

    <div id="chk" class="none">
        <div class="chk-wrapper">
            <i is-selected="false" class="icon-check-empty"></i>
        </div>
    </div>
##表格的工具条
    <script type="text/html" id="barDemo">
        <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="detail">查看</a>
        <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="print">打印</a>
        <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
        <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
    </script>
</div>

##弹窗

##添加弹窗
<form id="addModal" class="layui-form my-layer-modal none" lay-filter="addModal" action="">

    <div class="layui-row margin-bottom-20">
        <table class="layui-table">
            <tbody>
            <tr>
                <td>
                    <div class="layui-col-md6">
                        <div class="layui-row blue-font margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">工程抗压序号
                            </div>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="sn_project" readonly autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-row blue-font margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">送检人</div>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="client" readonly autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-row blue-font margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">送检编号</div>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="testnumber" readonly autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">设计强度</div>
                            <div class="layui-input-inline layui-col-md8">
                                <select name="SJQD" lay-search>
                                    <option value=""></option>
                                    <option value="C30">C30</option>
                                    <option value="C35">C35</option>
                                    <option value="C40">C40</option>
                                    <option value="C45">C45</option>
                                    <option value="C50">C50</option>
                                    <option value="C55">C55</option>
                                    <option value="C60">C60</option>
                                    <option value="C65">C65</option>
                                    <option value="C70">C70</option>
                                    <option value="C75">C75</option>
                                    <option value="C80">C80</option>
                                    <option value="C85">C85</option>
                                    <option value="C90">C90</option>
                                    <option value="C100">C100</option>
                                </select>
                            </div>
                        </div>
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">拟配强度</div>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="NPQD" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">要求坍落度</div>
                            <div class="layui-input-inline  layui-col-md8">
                                <input type="text" name="YQTLD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                    </div>

                    <div class="layui-col-md6">

                        <div class="layui-row blue-font margin-bottom-20">
                            <label class="layui-form-label">施工单位</label>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="construction" readonly autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <label class="layui-form-label">工程名称</label>##
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" readonly name="cid" autocomplete="off" class="layui-input none">
                                <input type="text" readonly name="project" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-row margin-bottom-20">
                            <label class="layui-form-label">施工部位</label>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="SGBW" autocomplete="off" lay-verify="required"
                                       class="layui-input">
                            </div>
                        </div>
                        <div class="layui-row margin-bottom-20">
                            <label class="layui-form-label">混凝土单位</label>
                            <div class="layui-input-inline layui-col-md8">
                                <select name="ccid" lay-filter="ccid">
                                </select>
                            </div>
                        </div>
                        <div class="layui-row margin-bottom-20">
                            <label class="layui-form-label ">
                                <div class="paste-btn" onclick="getDataByTableNumber()">
                                    粘贴抗压号
                                </div>
                            </label>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="kynumber" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <label class="layui-form-label">实测坍落度(mm)</label>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="SCTLD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="layui-row margin-bottom-20">
        <table class="layui-table">
            <tbody>
            <tr>
                <td>
                ##第一列
                    <div class="layui-col-md4">
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                水泥品种
                            </div>
                            <div class="layui-input-inline layui-col-md3">
                                <select name="SNPZ" lay-search>
                                    <option value=""></option>
                                    <option value="P.O">P.O</option>
                                    <option value="P.S">P.S</option>
                                    <option value="P.F">P.F</option>
                                    <option value="P.P">P.P</option>
                                    <option value="P.Ⅰ">P.Ⅰ</option>
                                    <option value="P.Ⅱ">P.Ⅱ</option>
                                </select>
                            </div>


                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                水泥标号
                            </div>
                            <div class="layui-input-inline layui-col-md3">
                                <select name="SNBH" lay-search>
                                    <option value=""></option>
                                    <option value="32.5">32.5</option>
                                    <option value="32.5R">32.5R</option>
                                    <option value="42.5">42.5</option>
                                    <option value="42.5R">42.5R</option>
                                    <option value="52.5">52.5</option>
                                    <option value="52.5R">52.5R</option>
                                    <option value="62.5">62.5</option>
                                    <option value="62.5R">62.5R</option>
                                </select>
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                砂子品种
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <select name="SHAPZ" lay-search>
                                    <option value=""></option>
                                    <option value="0">粗砂</option>
                                    <option value="1">中砂</option>
                                    <option value="2">细砂</option>
                                    <option value="3">河砂</option>
                                </select>
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                石子品种
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <select name="SHIPZ" lay-search>
                                    <option value=""></option>
                                    <option value="碎石">碎石</option>
                                    <option value="碎卵石">碎卵石</option>
                                    <option value="卵碎石">卵碎石</option>
                                    <option value="卵石">卵石</option>
                                    <option value="豆石">豆石</option>
                                    <option value="细石">细石</option>
                                </select>
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                粉煤灰名称
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <select name="FMHMC" lay-search>
                                    <option value=""></option>
                                    <option value="粉煤灰">粉煤灰</option>
                                </select>
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                掺合料名称
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <select name="CHLMC" lay-search>
                                    <option value=""></option>
                                    <option value="硅粉">硅粉</option>
                                    <option value="矿粉">矿粉</option>
                                </select>
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                外加剂名称
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <select name="WJJMC" lay-search>
                                    <option value=""></option>
                                    <option value="减水剂">减水剂</option>
                                    <option value="防冻剂">防冻剂</option>
                                    <option value="泵送剂">泵送剂</option>
                                </select>
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                外加剂名称2
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <select name="PZJMC" lay-search>
                                    <option value=""></option>
                                    <option value="UEA">UEA</option>
                                </select>
                            </div>
                        </div>


                    </div>
                ##第二列
                    <div class="layui-col-md4">
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                水泥厂别
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="SNCB" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                砂子产地
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="SHACD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                石子产地
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="SHICD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                粉煤灰产地
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="FMHCD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                掺合料产地
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="CHLCD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                外加剂产地
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="WJJCD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                外加剂2产地
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="PZJCD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                    </div>
                ##第三列
                    <div class="layui-col-md4">
                        <div class="layui-row margin-bottom-20">
                        ##水泥出厂日期
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                出厂日期
                            </div>
                            <div class="layui-input-inline layui-col-md3">
                                <input type="text" name="SNCCRQ" class="layui-input" placeholder="yyyy-MM-dd">
                            </div>

                        ##水泥试验编号
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                试验编号
                            </div>
                            <div class="layui-input-inline layui-col-md3">
                                <input type="text" name="SNSYBH" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    ##砂子试验编号
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                试验编号
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="SHASYBH" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    ##石子试验编号
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                试验编号
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="SHISYBH" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    ##石子最大粒径
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                最大粒径
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <select name="SHIZDLJ" lay-search>
                                    <option value=""></option>
                                    <option value="16">16</option>
                                    <option value="25">25</option>
                                </select>
                            </div>
                        </div>

                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="layui-row margin-bottom-20">
        <table class="layui-table">
            <tbody>
            <tr>
            ##
            ##                <td></td>
                <td>材料名称</td>
                <td>水泥</td>
                <td>水</td>
                <td>砂子</td>
                <td>石子</td>
                <td>粉煤灰</td>
                <td>掺合料</td>
                <td>外加剂</td>
                <td>外加剂2</td>
            </tr>
            <tr>
            ##
            ##                <td></td>
            ##材料名称
                <td>用量(kg/m3)</td>
            ##水泥-水泥用量
                <td>
                    <input type="text" name="SNYL" autocomplete="off" class="layui-input">
                </td>
            ##水-水用量
                <td>
                    <input type="text" name="SYL" autocomplete="off" class="layui-input">
                </td>
            ##砂子-砂子用量
                <td>
                    <input type="text" name="SHAYL" autocomplete="off" class="layui-input">
                </td>
            ##石子-石子用量
                <td>
                    <input type="text" name="SHIYL" autocomplete="off" class="layui-input">
                </td>
            ##粉煤灰-粉煤灰用量
                <td>
                    <input type="text" name="FMHYL" autocomplete="off" class="layui-input">
                </td>
            ##掺合料-掺和料用量
                <td>
                    <input type="text" name="CHLYL" autocomplete="off" class="layui-input">
                </td>
            ##外加剂-外加剂用量
                <td>
                    <input type="text" name="WJJYL" autocomplete="off" class="layui-input">
                </td>
            ##外加剂2-外加剂2用量
                <td>
                    <input type="text" name="PZJYL" autocomplete="off" class="layui-input">
                </td>
            </tr>

            </tbody>
        </table>
    </div>

    <div class="layui-row margin-bottom-20">
        <table class="layui-table">
            <tbody>
            <tr>
                <td colspan="2">配合比编号</td>
                <td>水灰比</td>
                <td>砂率(%)</td>
                <td class="blue-font">试块收到日期</td>
                <td>制模日期</td>
                <td>要求龄期</td>
                <td class="blue-font">要求试验日期</td>
                <td>试块养护条件</td>
            </tr>
            <tr>
            ##配合比编号
                <td colspan="2">
                    <input type="text" name="PHBBH" autocomplete="off" class="layui-input">
                </td>
            ##水灰比
                <td>
                    <input type="text" name="SHB" autocomplete="off" class="layui-input">
                </td>
            ##砂率(%)
                <td>
                    <input type="text" name="SL" autocomplete="off" class="layui-input">
                </td>
            ##试块收到日期
                <td>
                    <input type="text" name="SKSDRQ" disabled class="layui-input" placeholder="yyyy-MM-dd">
                    <input type="text" name="SKSDRQ" class="layui-input none" placeholder="yyyy-MM-dd">
                </td>
            ##制模日期
                <td>
                    <input type="text" name="ZMRQ" class="layui-input" placeholder="yyyy-MM-dd">
                </td>
            ##要求龄期
                <td>
                    <input type="text" name="YQLQ" onchange="lqChange('addModal')" autocomplete="off"
                           class="layui-input">
                </td>
            ##要求试验日期
                <td>
                    <input type="text" name="YQSYRQ" disabled class="layui-input" placeholder="yyyy-MM-dd">
                    <input type="text" name="YQSYRQ" class="layui-input none" placeholder="yyyy-MM-dd">
                </td>
            ##试块养护条件
                <td>
                    <input type="text" name="SKYHTJ" autocomplete="off" class="layui-input">
                </td>
            </tr>

            </tbody>
        </table>
    </div>

    <div class="layui-row margin-bottom-20">
        <table class="layui-table">
            <tbody>
            ##头
            <tr>
                <td rowspan="2">试件编号</td>
                <td rowspan="2" class="blue-font">试验日期</td>
                <td rowspan="2">实际期龄</td>
                <td rowspan="2">试件尺寸</td>
                <td rowspan="2" class="blue-font">受压面积</td>
                <td colspan="2" class="blue-font">荷载</td>
                <td rowspan="2" class="blue-font">抗压强度</td>
                <td rowspan="2" class="blue-font">折合150mm立方强度</td>
                <td rowspan="2" class="blue-font">达到设计强度</td>
            </tr>
            <tr>
                <td class="blue-font">单块</td>
                <td class="blue-font">平均</td>
            </tr>

            ##内容
            <tr>
            ##试件编号
                <td rowspan="3">
                    <textarea name="SJBH" class="layui-textarea"></textarea>
                </td>
            ##试验日期
                <td rowspan="3">
                    <input type="text" name="SYRQ" disabled class="layui-input" placeholder="yyyy-MM-dd">
                    <input type="text" name="SYRQ" class="layui-input none" placeholder="yyyy-MM-dd">
                </td>
            ##实际期龄
                <td rowspan="3">
                    <input type="text" name="SJLQ" autocomplete="off" class="layui-input">
                </td>
            ##试件尺寸
                <td rowspan="3">
                    <select name="SJCC" lay-search>
                        <option value=""></option>
                        <option value="100">100</option>
                        <option value="150">150</option>

                    </select>
                </td>
            ##受压面积
                <td rowspan="3">
                    <input type="text" name="SYMJ" autocomplete="off" readonly class="layui-input">
                </td>
            ##荷载-单块-1
                <td>
                    <input type="text" name="HZ1" autocomplete="off" readonly class="layui-input">
                </td>

            ##荷载-平均
                <td rowspan="3">
                    <input type="text" name="HZPJ" autocomplete="off" readonly class="layui-input">
                </td>

            ##抗压强度
                <td rowspan="3">
                    <input type="text" name="KYQD" autocomplete="off" readonly class="layui-input">
                </td rowspan="3">
            ##折合150mm立方强度
                <td rowspan="3">
                    <input type="text" name="ZHQD" autocomplete="off" readonly class="layui-input">
                </td>
            ##达到设计强度
                <td rowspan="3">
                    <input type="text" name="DDQD" autocomplete="off" readonly class="layui-input">
                </td>
            </tr>
            ##荷载-单块-2,3
            <tr>
                <td>
                    <input type="text" name="HZ2" autocomplete="off" readonly class="layui-input">
                </td>
            </tr>
            <tr>
                <td>
                    <input type="text" name="HZ3" autocomplete="off" readonly class="layui-input">
                </td>
            </tr>
            <tr>
                <td colspan="10"></td>
            </tr>

            <tr>
                <td colspan="1">备注</td>
                <td colspan="9">
                    <input type="text" name="BZ" autocomplete="off" class="layui-input">
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="layui-row">
        <table class="layui-table">
            <tbody>
            <tr>
                <td>
                    <div class="layui-col-md3">

                        <div class="layui-input-inline layui-col-md3 my-sm-lable blue-font">
                            技术负责人
                        </div>
                        <div class="layui-col-md8">
                            <input type="text" name="JSFZR" readonly autocomplete="off" class="layui-input">
                        </div>
                    </div>

                    <div class="layui-col-md3">
                        <div class="layui-input-inline layui-col-md3 my-sm-lable blue-font">
                            校核人
                        </div>
                        <div class="layui-col-md8">
                            <input type="text" name="XHR" readonly autocomplete="off" class="layui-input">
                        </div>
                    </div>

                    <div class="layui-col-md3">
                        <div class="layui-input-inline layui-col-md3 my-sm-lable blue-font">
                            试验人
                        </div>
                        <div class="layui-col-md8">
                            <input type="text" name="SYR" readonly autocomplete="off" class="layui-input">
                        </div>
                    </div>

                    <div class="layui-col-md3">
                        <div class="layui-input-inline layui-col-md3 my-sm-lable blue-font">
                            报告日期
                        </div>
                        <div class="layui-col-md8">
                            <input type="text" name="BGRQ" disabled class="layui-input" placeholder="yyyy-MM-dd">
                            <input type="text" name="BGRQ" class="layui-input none" placeholder="yyyy-MM-dd">
                        </div>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</form>

##修改弹窗
<form id="updateModal" class="layui-form my-layer-modal none" lay-filter="addModal" action="">

##    隐藏字段
    <div class="layui-row none">
        <div class="layui-form-item">
            <div class="layui-inline blue-font">
                <label class="layui-form-label ">抗压ID</label>
                <div class="layui-input-inline ">
                    <input type="text" name="kyid" autocomplete="off" class="layui-input">
                </div>
            </div>
        </div>
    </div>

    <div class="layui-row margin-bottom-20">
        <table class="layui-table">
            <tbody>
            <tr>
                <td>
                    <div class="layui-col-md6">
                        <div class="layui-row blue-font margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">工程抗压序号
                            </div>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="sn_project" readonly autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-row blue-font margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">送检人</div>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="client" readonly autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-row blue-font margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">送检编号</div>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="testnumber" readonly autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">设计强度</div>
                            <div class="layui-input-inline layui-col-md8">
                                <select name="SJQD" lay-search>
                                    <option value=""></option>
                                    <option value="C30">C30</option>
                                    <option value="C35">C35</option>
                                    <option value="C40">C40</option>
                                    <option value="C45">C45</option>
                                    <option value="C50">C50</option>
                                    <option value="C55">C55</option>
                                    <option value="C60">C60</option>
                                    <option value="C65">C65</option>
                                    <option value="C70">C70</option>
                                    <option value="C75">C75</option>
                                    <option value="C80">C80</option>
                                    <option value="C85">C85</option>
                                    <option value="C90">C90</option>
                                    <option value="C100">C100</option>
                                </select>
                            </div>
                        </div>
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">拟配强度</div>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="NPQD" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">要求坍落度</div>
                            <div class="layui-input-inline  layui-col-md8">
                                <input type="text" name="YQTLD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                    </div>

                    <div class="layui-col-md6">

                        <div class="layui-row blue-font margin-bottom-20">
                            <label class="layui-form-label">施工单位</label>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="construction" readonly autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <label class="layui-form-label">工程名称</label>##
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" readonly name="cid" autocomplete="off" class="layui-input none">
                                <input type="text" readonly name="project" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-row margin-bottom-20">
                            <label class="layui-form-label">施工部位</label>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="SGBW" autocomplete="off" lay-verify="required"
                                       class="layui-input">
                            </div>
                        </div>
                        <div class="layui-row margin-bottom-20">
                            <label class="layui-form-label">混凝土单位</label>
                            <div class="layui-input-inline layui-col-md8">
                                <select name="ccid" lay-filter="ccid">
                                </select>
                            </div>
                        </div>
                        <div class="layui-row margin-bottom-20">
                            <label class="layui-form-label ">
                                <div class="paste-btn">
                                    粘贴抗压号
                                </div>
                            </label>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="kynumber" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <label class="layui-form-label">实测坍落度(mm)</label>
                            <div class="layui-input-inline layui-col-md8">
                                <input type="text" name="SCTLD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="layui-row margin-bottom-20">
        <table class="layui-table">
            <tbody>
            <tr>
                <td>
                ##第一列
                    <div class="layui-col-md4">
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                水泥品种
                            </div>
                            <div class="layui-input-inline layui-col-md3">
                                <select name="SNPZ" lay-search>
                                    <option value=""></option>
                                    <option value="P.O">P.O</option>
                                    <option value="P.S">P.S</option>
                                    <option value="P.F">P.F</option>
                                    <option value="P.P">P.P</option>
                                    <option value="P.Ⅰ">P.Ⅰ</option>
                                    <option value="P.Ⅱ">P.Ⅱ</option>
                                </select>
                            </div>


                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                水泥标号
                            </div>
                            <div class="layui-input-inline layui-col-md3">
                                <select name="SNBH" lay-search>
                                    <option value=""></option>
                                    <option value="32.5">32.5</option>
                                    <option value="32.5R">32.5R</option>
                                    <option value="42.5">42.5</option>
                                    <option value="42.5R">42.5R</option>
                                    <option value="52.5">52.5</option>
                                    <option value="52.5R">52.5R</option>
                                    <option value="62.5">62.5</option>
                                    <option value="62.5R">62.5R</option>
                                </select>
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                砂子品种
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <select name="SHAPZ" lay-search>
                                    <option value=""></option>
                                    <option value="0">粗砂</option>
                                    <option value="1">中砂</option>
                                    <option value="2">细砂</option>
                                    <option value="3">河砂</option>
                                </select>
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                石子品种
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <select name="SHIPZ" lay-search>
                                    <option value=""></option>
                                    <option value="碎石">碎石</option>
                                    <option value="碎卵石">碎卵石</option>
                                    <option value="卵碎石">卵碎石</option>
                                    <option value="卵石">卵石</option>
                                    <option value="豆石">豆石</option>
                                    <option value="细石">细石</option>
                                </select>
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                粉煤灰名称
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <select name="FMHMC" lay-search>
                                    <option value=""></option>
                                    <option value="粉煤灰">粉煤灰</option>
                                </select>
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                掺合料名称
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <select name="CHLMC" lay-search>
                                    <option value=""></option>
                                    <option value="硅粉">硅粉</option>
                                    <option value="矿粉">矿粉</option>
                                </select>
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                外加剂名称
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <select name="WJJMC" lay-search>
                                    <option value=""></option>
                                    <option value="减水剂">减水剂</option>
                                    <option value="防冻剂">防冻剂</option>
                                    <option value="泵送剂">泵送剂</option>
                                </select>
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                外加剂名称2
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <select name="PZJMC" lay-search>
                                    <option value=""></option>
                                    <option value="UEA">UEA</option>
                                </select>
                            </div>
                        </div>


                    </div>
                ##第二列
                    <div class="layui-col-md4">
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                水泥厂别
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="SNCB" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                砂子产地
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="SHACD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                石子产地
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="SHICD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                粉煤灰产地
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="FMHCD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                掺合料产地
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="CHLCD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                外加剂产地
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="WJJCD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                外加剂2产地
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="PZJCD" autocomplete="off" class="layui-input">
                            </div>
                        </div>

                    </div>
                ##第三列
                    <div class="layui-col-md4">
                        <div class="layui-row margin-bottom-20">
                        ##水泥出厂日期
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                出厂日期
                            </div>
                            <div class="layui-input-inline layui-col-md3">
                                <input type="text" name="SNCCRQ" class="layui-input" placeholder="yyyy-MM-dd">
                            </div>

                        ##水泥试验编号
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                试验编号
                            </div>
                            <div class="layui-input-inline layui-col-md3">
                                <input type="text" name="SNSYBH" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    ##砂子试验编号
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                试验编号
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="SHASYBH" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    ##石子试验编号
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                试验编号
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <input type="text" name="SHISYBH" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                    ##石子最大粒径
                        <div class="layui-row margin-bottom-20">
                            <div class="layui-input-inline layui-col-md3 my-sm-lable">
                                最大粒径
                            </div>
                            <div class="layui-input-inline  layui-col-md9">
                                <select name="SHIZDLJ" lay-search>
                                    <option value=""></option>
                                    <option value="16">16</option>
                                    <option value="25">25</option>
                                </select>
                            </div>
                        </div>

                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="layui-row margin-bottom-20">
        <table class="layui-table">
            <tbody>
            <tr>
            ##
            ##                <td></td>
                <td>材料名称</td>
                <td>水泥</td>
                <td>水</td>
                <td>砂子</td>
                <td>石子</td>
                <td>粉煤灰</td>
                <td>掺合料</td>
                <td>外加剂</td>
                <td>外加剂2</td>
            </tr>
            <tr>
            ##
            ##                <td></td>
            ##材料名称
                <td>用量(kg/m3)</td>
            ##水泥-水泥用量
                <td>
                    <input type="text" name="SNYL" autocomplete="off" class="layui-input">
                </td>
            ##水-水用量
                <td>
                    <input type="text" name="SYL" autocomplete="off" class="layui-input">
                </td>
            ##砂子-砂子用量
                <td>
                    <input type="text" name="SHAYL" autocomplete="off" class="layui-input">
                </td>
            ##石子-石子用量
                <td>
                    <input type="text" name="SHIYL" autocomplete="off" class="layui-input">
                </td>
            ##粉煤灰-粉煤灰用量
                <td>
                    <input type="text" name="FMHYL" autocomplete="off" class="layui-input">
                </td>
            ##掺合料-掺和料用量
                <td>
                    <input type="text" name="CHLYL" autocomplete="off" class="layui-input">
                </td>
            ##外加剂-外加剂用量
                <td>
                    <input type="text" name="WJJYL" autocomplete="off" class="layui-input">
                </td>
            ##外加剂2-外加剂2用量
                <td>
                    <input type="text" name="PZJYL" autocomplete="off" class="layui-input">
                </td>
            </tr>

            </tbody>
        </table>
    </div>

    <div class="layui-row margin-bottom-20">
        <table class="layui-table">
            <tbody>
            <tr>
                <td colspan="2">配合比编号</td>
                <td>水灰比</td>
                <td>砂率(%)</td>
                <td class="blue-font">试块收到日期</td>
                <td>制模日期</td>
                <td>要求龄期</td>
                <td class="blue-font">要求试验日期</td>
                <td>试块养护条件</td>
            </tr>
            <tr>
            ##配合比编号
                <td colspan="2">
                    <input type="text" name="PHBBH" autocomplete="off" class="layui-input">
                </td>
            ##水灰比
                <td>
                    <input type="text" name="SHB" autocomplete="off" class="layui-input">
                </td>
            ##砂率(%)
                <td>
                    <input type="text" name="SL" autocomplete="off" class="layui-input">
                </td>
            ##试块收到日期
                <td>
                    <input type="text" name="SKSDRQ" disabled class="layui-input" placeholder="yyyy-MM-dd">
                    <input type="text" name="SKSDRQ" class="layui-input none" placeholder="yyyy-MM-dd">
                </td>
            ##制模日期
                <td>
                    <input type="text" name="ZMRQ" class="layui-input" placeholder="yyyy-MM-dd">
                </td>
            ##要求龄期
                <td>
                    <input type="text" name="YQLQ" onchange="lqChange('addModal')" autocomplete="off"
                           class="layui-input">
                </td>
            ##要求试验日期
                <td>
                    <input type="text" name="YQSYRQ" disabled class="layui-input" placeholder="yyyy-MM-dd">
                    <input type="text" name="YQSYRQ" class="layui-input none" placeholder="yyyy-MM-dd">
                </td>
            ##试块养护条件
                <td>
                    <input type="text" name="SKYHTJ" autocomplete="off" class="layui-input">
                </td>
            </tr>

            </tbody>
        </table>
    </div>

    <div class="layui-row margin-bottom-20">
        <table class="layui-table">
            <tbody>
            ##头
            <tr>
                <td rowspan="2">试件编号</td>
                <td rowspan="2" class="blue-font">试验日期</td>
                <td rowspan="2">实际期龄</td>
                <td rowspan="2">试件尺寸</td>
                <td rowspan="2" class="blue-font">受压面积</td>
                <td colspan="2" class="blue-font">荷载</td>
                <td rowspan="2" class="blue-font">抗压强度</td>
                <td rowspan="2" class="blue-font">折合150mm立方强度</td>
                <td rowspan="2" class="blue-font">达到设计强度</td>
            </tr>
            <tr>
                <td class="blue-font">单块</td>
                <td class="blue-font">平均</td>
            </tr>

            ##内容
            <tr>
            ##试件编号
                <td rowspan="3">
                    <textarea name="SJBH" class="layui-textarea"></textarea>
                </td>
            ##试验日期
                <td rowspan="3">
                    <input type="text" name="SYRQ" disabled class="layui-input" placeholder="yyyy-MM-dd">
                    <input type="text" name="SYRQ" class="layui-input none" placeholder="yyyy-MM-dd">
                </td>
            ##实际期龄
                <td rowspan="3">
                    <input type="text" name="SJLQ" autocomplete="off" class="layui-input">
                </td>
            ##试件尺寸
                <td rowspan="3">
                    <select name="SJCC" lay-search>
                        <option value=""></option>
                        <option value="100">100</option>
                        <option value="150">150</option>

                    </select>
                </td>
            ##受压面积
                <td rowspan="3">
                    <input type="text" name="SYMJ" autocomplete="off" readonly class="layui-input">
                </td>
            ##荷载-单块-1
                <td>
                    <input type="text" name="HZ1" autocomplete="off" readonly class="layui-input">
                </td>

            ##荷载-平均
                <td rowspan="3">
                    <input type="text" name="HZPJ" autocomplete="off" readonly class="layui-input">
                </td>

            ##抗压强度
                <td rowspan="3">
                    <input type="text" name="KYQD" autocomplete="off" readonly class="layui-input">
                </td rowspan="3">
            ##折合150mm立方强度
                <td rowspan="3">
                    <input type="text" name="ZHQD" autocomplete="off" readonly class="layui-input">
                </td>
            ##达到设计强度
                <td rowspan="3">
                    <input type="text" name="DDQD" autocomplete="off" readonly class="layui-input">
                </td>
            </tr>
            ##荷载-单块-2,3
            <tr>
                <td>
                    <input type="text" name="HZ2" autocomplete="off" readonly class="layui-input">
                </td>
            </tr>
            <tr>
                <td>
                    <input type="text" name="HZ3" autocomplete="off" readonly class="layui-input">
                </td>
            </tr>
            <tr>
                <td colspan="10"></td>
            </tr>

            <tr>
                <td colspan="1">备注</td>
                <td colspan="9">
                    <input type="text" name="BZ" autocomplete="off" class="layui-input">
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div class="layui-row">
        <table class="layui-table">
            <tbody>
            <tr>
                <td>
                    <div class="layui-col-md3">

                        <div class="layui-input-inline layui-col-md3 my-sm-lable blue-font">
                            技术负责人
                        </div>
                        <div class="layui-col-md8">
                            <input type="text" name="JSFZR" readonly autocomplete="off" class="layui-input">
                        </div>
                    </div>

                    <div class="layui-col-md3">
                        <div class="layui-input-inline layui-col-md3 my-sm-lable blue-font">
                            校核人
                        </div>
                        <div class="layui-col-md8">
                            <input type="text" name="XHR" readonly autocomplete="off" class="layui-input">
                        </div>
                    </div>

                    <div class="layui-col-md3">
                        <div class="layui-input-inline layui-col-md3 my-sm-lable blue-font">
                            试验人
                        </div>
                        <div class="layui-col-md8">
                            <input type="text" name="SYR" readonly autocomplete="off" class="layui-input">
                        </div>
                    </div>

                    <div class="layui-col-md3">
                        <div class="layui-input-inline layui-col-md3 my-sm-lable blue-font">
                            报告日期
                        </div>
                        <div class="layui-col-md8">
                            <input type="text" name="BGRQ" disabled class="layui-input" placeholder="yyyy-MM-dd">
                            <input type="text" name="BGRQ" class="layui-input none" placeholder="yyyy-MM-dd">
                        </div>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</form>

##查看
<form id="detailModal" class="layui-form my-layer-modal none" lay-filter="detailModal" action=""></form>

##打印
<form id="printModal" class="layui-container none text-center">
    <div>
        <div class="layui-row">
            <div class="layui-col-md12">
                <div class="left">
                    记录表编号：JL-002-212
                </div>
            </div>
        </div>
        <div class="layui-row">
            <div class="layui-col-md12  text-center ">
                北京市公路质量检测中心
            </div>
        </div>
        <div class="layui-row">
            <div class="layui-col-md12 text-center ">
                <h3> 混凝土抗压强度试验报告</h3>
            </div>
        </div>
        <div class="layui-row margin-top-15">
            <div class="layui-col-md12">
                <div class="right">
                    编号：试表30-07
                </div>
            </div>
        </div>
    ##        当前table分为100列以细微调整
        <div class="layui-row">
            <div class="layui-col-md12">
                <table class="table">
                    <tr>
                        <td colspan="16">委托编号</td>
                        <td colspan="34" name="WTDBH"></td>
                        <td colspan="16">试验编号</td>
                        <td colspan="34" name="SYBH"></td>
                    </tr>
                    <tr>
                        <td colspan="16">施工单位</td>
                        <td colspan="84" name="construction"></td>
                    </tr>
                    <tr>
                        <td colspan="16">工程名称及施工部位</td>
                        <td colspan="84" name="project,SGBW"></td>
                    </tr>

                    <tr>
                        <td colspan="8">设计强度</td>
                        <td colspan="8" name="SJQD"></td>
                        <td colspan="11">拟配强度</td>
                        <td colspan="17" name="NPQD"></td>
                        <td colspan="11">实测坍落度</td>
                        <td colspan="17" name="SCTLD"></td>
                        <td colspan="12">要求坍落度</td>
                        <td colspan="16" name="YQTLD"></td>
                    </tr>

                    <tr>
                        <td colspan="16">水泥品种及标号</td>
                        <td colspan="56" name="SNPZ,SNBH"></td>
                        <td colspan="12">出厂日期</td>
                        <td colspan="16" name="SNCCRQ"></td>
                    </tr>
                    <tr>
                        <td colspan="16">水泥厂别</td>
                        <td colspan="56" name="SNCB"></td>
                        <td colspan="12">试验编号</td>
                        <td colspan="16" name="SNSYBH"></td>
                    </tr>

                    <tr>
                        <td colspan="16">砂产地及品种</td>
                        <td colspan="56" name="SHACD,SHAPZ"></td>
                        <td colspan="12">试验编号</td>
                        <td colspan="16" name="SHASYBH"></td>
                    </tr>

                    <tr>
                        <td colspan="16">石产地及品种</td>
                        <td colspan="56" name="SHICD,SHIPZ"></td>
                        <td colspan="12">试验编号</td>
                        <td colspan="16" name="SHISYBH"></td>
                    </tr>

                    <tr>
                        <td colspan="16">粉煤灰名称及产地</td>
                        <td colspan="84" name="FMHMC,FMHCD"></td>
                    </tr>
                    <tr>
                        <td colspan="16">掺合料名称及产地</td>
                        <td colspan="84" name="CHLMC,CHLCD"></td>
                    </tr>
                    <tr>
                        <td colspan="16">外加剂1名称及产地</td>
                        <td colspan="84" name="WJJMC,WJJCD"></td>
                    </tr>
                    <tr>
                        <td colspan="16">外加剂2名称及产地</td>
                        <td colspan="84" name="PZJMC,PZJCD"></td>
                    </tr>

                    <tr>
                        <td colspan="16">石子最大粒径</td>
                        <td colspan="11" name="SHIZDLJ"></td>
                        <td colspan="7">水灰比</td>
                        <td colspan="11" name="SHB"></td>
                        <td colspan="8">砂率</td>
                        <td colspan="11" name="SL"></td>
                        <td colspan="8">检测依据</td>
                        <td colspan="28" name=""></td>
                    </tr>

                </table>

            </div>
        </div>

    ##        当前table分为100列以细微调整
        <div class="layui-row top20">
            <div class="layui-col-md12">
                <table class="table ">
                    <tbody>
                    <tr>
                        <td colspan="16">配合比编号</td>
                        <td colspan="9">材料名称</td>
                        <td colspan="9">水泥</td>
                        <td colspan="9">水</td>
                        <td colspan="9">砂</td>
                        <td colspan="9">石</td>
                        <td colspan="9">粉煤灰</td>
                        <td colspan="10">掺合料</td>
                        <td colspan="10">外加剂1</td>
                        <td colspan="10">外加剂2</td>
                    </tr>
                    <tr>
                        <td colspan="16" name="PHBBH"></td>
                        <td colspan="9">用量(kg/m3)</td>
                    ##                    水泥
                        <td colspan="9" name="SNYL"></td>
                    ##                    水
                        <td colspan="9" name="SYL"></td>
                    ##                    砂
                        <td colspan="9" name="SHAYL"></td>
                    ##                    石
                        <td colspan="9" name="SHIYL"></td>
                    ##                    粉煤灰
                        <td colspan="9" name="FMHYL"></td>
                    ##                    掺合料
                        <td colspan="10" name="CHLYL"></td>
                    ##                    外加剂1
                        <td colspan="10" name="WJJYL"></td>
                    ##                    外加剂2
                        <td colspan="10" name="PZJYL"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

    ##        当前table分为100列以细微调整
        <div class="layui-row top20">
            <div class="layui-col-md12">
                <table class="table">
                    <tbody>
                    <tr>
                        <td colspan="16">制模日期</td>
                        <td colspan="20" name="ZMRQ"></td>
                        <td colspan="16">要求龄期</td>
                        <td colspan="12" name="YQLQ"></td>
                        <td colspan="16">要求试验日期</td>
                        <td colspan="20" name="YQSYRQ"></td>
                    </tr>
                    <tr>
                        <td colspan="16">试块收到日期</td>
                        <td colspan="20" name="SKSDRQ"></td>
                        <td colspan="16">试块养护条件</td>
                        <td colspan="12" name="SKYHTJ"></td>
                        <td colspan="16">试验委托人</td>
                        <td colspan="20" name="SYWTR"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="layui-row top20">
            <div class="layui-col-md12">
                <table class="table">
                    <tbody>
                    ##头
                    <tr>
                        <td colspan="10" rowspan="2">试件编号</td>
                        <td colspan="12" rowspan="2">试验日期</td>
                        <td colspan="6" rowspan="2">实际期龄</td>
                        <td colspan="8" rowspan="2">试件尺寸</td>
                        <td colspan="10" rowspan="2">受压面积</td>
                        <td colspan="24" colspan="2">荷载</td>
                        <td colspan="10" rowspan="2">抗压强度</td>
                        <td colspan="10" rowspan="2">折合150mm立方强度</td>
                        <td colspan="10" rowspan="2">达到设计强度</td>
                    </tr>
                    <tr>
                        <td colspan="12" class="blue-font">单块</td>
                        <td colspan="12" class="blue-font">平均</td>
                    </tr>

                    ##内容
                    <tr>
                    ##试件编号
                        <td colspan="10" rowspan="3" name="SJBH"></td>
                    ##试验日期
                        <td colspan="12" rowspan="3" name="SYRQ"></td>
                    ##实际期龄
                        <td colspan="6" rowspan="3" name="SJLQ"></td>
                    ##试件尺寸
                        <td colspan="8" rowspan="3" name="SJCC"></td>
                    ##受压面积
                        <td colspan="10" rowspan="3" name="SYMJ"></td>
                    ##荷载-单块-1
                        <td colspan="12" name="HZ1">&nbsp;</td>
                    ##荷载-平均
                        <td colspan="12" rowspan="3" name="HZPJ">/</td>
                    ##抗压强度
                        <td colspan="10" rowspan="3" name="KYQD">/</td rowspan="3">
                    ##折合150mm立方强度
                        <td colspan="10" rowspan="3" name="ZHQD">/</td>
                    ##达到设计强度
                        <td colspan="10" rowspan="3" name="DDQD">/</td>
                    </tr>
                    ##荷载-单块-2,3
                    <tr>
                        <td colspan="12" name="HZ2">&nbsp;</td>
                    </tr>
                    <tr>
                        <td colspan="12" name="HZ3">&nbsp;</td>
                    </tr>
                    <tr>
                        <td colspan="10">备注</td>
                        <td colspan="90" name="BZ"></td>
                    </tr>
                    </tbody>
                </table>


                <table class="table">
                    <tr class="none-td-border">
                        <td>技术负责人</td>
                        <td name="JSFZR"></td>
                        <td>校核人</td>
                        <td name="XHR"></td>
                        <td>试验人</td>
                        <td name="SYR"></td>
                    </tr>
                    <tr>
                        <td>报告日期</td>
                        <td colspan="5" name="BGRQ"></td>
                    </tr>
                </table>
            </div>
        </div>


        <div class="layui-row top10">
            <div class="layui-col-md12">
                <div class="left">
                    声明:1.本结果只对所检测样品有效。2.未经本中心同意不得复制试验报告。本表于2016年7月1日起实施
                </div>
            </div>
        </div>
    </div>
</form>

<script src="/nav/js/iframe2.js"></script>
##全局变量
<script>

    //当前页面的请求的URL由各个页面定义此处为样本
    var urls = {
        showCol: '/shiYanXiangMu/hunNingTuKangYa/getShowCol.action',
        select: '/shiYanXiangMu/hunNingTuKangYa/search',
        add: '/shiYanXiangMu/hunNingTuKangYa/add',
        update: '/shiYanXiangMu/hunNingTuKangYa/update',
        delete: '/shiYanXiangMu/hunNingTuKangYa/delete'
    };
</script>
##页面初始化
<script>
    window.onload = function (ev) {
        init();
        initLayuiLaydate("queryWrapper");
    };
</script>

<script>

    //初始化表格
    function initTable(displayCol) {

        //获取表头
        var getCols = function (json) {

            var data = json.data;
            var cols = [[]];
            // cols[0][0] = {field: 'checkbox', type: 'checkbox', title: '单选', fixed: 'left'};
            cols[0][0] = {field: 'checkbox', templet: '#chk', edit: false, title: '单选', fixed: 'left', event: 'chk'};
            for (var i = 0; i < data.length; i++) {
                var row = data[i];
                var gridmc = row['gridmc'].toLocaleLowerCase();

                var zw = row['zw'];
                var width = 90;
                if (zw.length > 4) {
                    width = width + (zw.length - 4) * 10;
                }
                if (gridmc.length - zw.length > 2) {
                    width += 24;
                }
                var col = {field: gridmc, title: zw, width: width, edit: false};
                cols[0].push(col);
            }
            var toolbar = {fixed: 'right', align: 'center', toolbar: '#barDemo', edit: false, title: '操作', width: 200};
            cols[0].push(toolbar);
            return cols;
        }

        //表格初始化和查询参数绑定
        var tableOptions = {
            elem: '#tableData',
            height: 510,
            url: urls.select, //数据接口
            page: true,//开启分页
            request: {
                pageName: 'page', //页码的参数名称，默认：page
                limitName: 'limit' //每页数据量的参数名，默认：limit
            },
            response: {
                statusName: 'code',//数据状态的字段名称，默认：code
                statusCode: 0,//成功的状态码，默认：0
                msgName: 'msg',//状态信息的字段名称，默认：msg
                countName: 'count', //数据总数的字段名称，默认：count
                dataName: 'data' //数据列表的字段名称，默认：data
            },
            where: {
                zmrqstart: jQuery("#beginTime").val(), //制模日期开始
                zmrqend: jQuery("#endTime").val(),  //制模日期结束
                queryStr: jQuery("#queryStr").val(), //查询字符串
                queryIntStr: jQuery("#queryStr").val()
            },
            skin: {
                size: 'sm'
            },
            cols: getCols(displayCol)
        };

        //执行一个 table 实例
        layui.use(['table'], function () {
            var table = layui.table;//表格
            table.render(tableOptions);

            //监听工具条
            //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"
            table.on('tool(test)', function (obj) {
                var data = obj.data; //获得当前行数据
                var layEvent = obj.event; //获得 lay-event 对应的值
                if (layEvent === 'del') {//删除
                    deleteRow(obj, data);
                } else if (layEvent === 'edit') {//编辑
                    showUpdateModal(obj, data);
                } else if (layEvent === 'detail') {//查看
                    showDetailModal(obj, data);
                } else if (layEvent === 'print') {//打印
                    showPrintModal(obj, data);
                } else if (layEvent === 'chk') {//打印

                    var oldStates = $(this).find("i").attr("is-selected") == "false" ? false : true;
                    //移除所有选中
                    $('.chk-wrapper').each(function () {
                        $(this).find("i").attr("is-selected", false);
                        $(this).find("i").removeClass("icon-check");
                        $(this).find("i").addClass("icon-check-empty");
                    });

                    if (oldStates) {//将当前选中移除
                        $(this).find("i").addClass('icon-check-empty');
                        $(this).find("i").removeClass("icon-check");
                        $(this).find("i").attr("is-selected", false);

                        selectCheckData = undefined;
                        selectCheck = undefined;
                    } else {//选中当前
                        $(this).find("i").removeClass('icon-check-empty');
                        $(this).find("i").addClass("icon-check");
                        $(this).find("i").attr("is-selected", true);

                        selectCheckData = obj.data;
                        selectCheck = $(this);
                    }
                }
            });
        });
    }

    //粘贴抗压号事件
    function getDataByTableNumber() {

        var formID = "addModal";

        var kynumber = jQuery("#" + formID + " [name='kynumber']").val();

        if (isNull(kynumber)) {
            failAlert("请先填写抗压编号");
            return;
        }

        jQuery.ajax({
            type: 'post',
            url: urls.select,
            dataType: 'json',
            data: {'kynumber': kynumber, 'page': 1, 'limit': 1},
            async: false,
            success: function (json) {

                if (json.code == 0 &&
                        json.data != null && json.data != undefined) {
                    initModelByData(json.data[0], formID, moadlHtmls.add);
                    console.log(json.data);

                } else {
                    failAlert(json.msg);
                }

            },
            err: function (err) {
                failAlert("连接服务器失败,请重试！");
            }
        });
    }

    //显示添加弹窗
    function showAddModal() {
        if (isNotPower(baseData.cees_user)) {
            return false
        }

        var formID = 'addModal';


        if (selectCheck == undefined || selectCheckData == undefined) {
            initAddModel(formID);
        } else {
            initModelByData(selectCheckData, formID, moadlHtmls.add);
        }


        layer.open({
            title: "添加",
            type: 1,
            area: ['980px', '560px'], //宽高
            content: jQuery('#' + formID),
            success: function (layer) {
                //这个函数就是在弹窗弹出成功后执行的函数
                //这个layer包含了弹窗里面的所有的html内容
                //有了这个就非常好办了，我用js调试了一下马上就定位到了弹窗框的位置然后改了他的class属性，成功。
                //这是我定位的第一个按钮的代码
                //var btn0 = layer[0].childNodes[3].childNodes[0];
            },
            btn: ['保存', '取消'],
            btnAlign: 'r', //按钮居右
            //shade: 0 ,//不显示遮罩
            btn1: function (index, layero) {//保存回调
                if (!check("addModal")) {
                    return false;
                }
                jQuery('#' + formID).ajaxSubmit({      //ajax方式提交表单

                    url: urls.add,
                    type: 'post',
                    dataType: 'json',
                    beforeSubmit: function () {
                    },
                    success: function (json) {

                        if (json.code == 0) {
                            var tips = layer.alert(json.msg, {
                                icon: 1,
                                skin: 'layer-ext-moon',
                                closeBtn: 0

                            }, function (thisIndex, layero) {
                                initGetShowCol(initTable);
                                layer.close(index);
                                layer.close(thisIndex);
                            });
                        } else {
                            console.log(json)
                            failAlert(json.msg);
                        }
                    },
                    clearForm: false,//禁止清楚表单
                    resetForm: false //禁止重置表单
                });
                return false; //开启该代码可禁止点击该按钮关闭
            },
            btn2: function (index, layero) {//取消回调
                layer.close(index);
            }
        });
    }

    //显示修改弹窗
    function showUpdateModal(obj, data) {
        var modelId = 'updateModal';
        if (isNotPower(baseData.cees_user)) {
            return false;
        }
        //初始化数据
        initModelByData(data, modelId, moadlHtmls.update);

        layer.open({
            title: "修改",
            type: 1,
            area: ['1240px', '620px'], //宽高
            content: jQuery('#' + modelId),
            success: function (layer) {
                //这个函数就是在弹窗弹出成功后执行的函数
                //这个layer包含了弹窗里面的所有的html内容
                //有了这个就非常好办了，我用js调试了一下马上就定位到了弹窗框的位置然后改了他的class属性，成功。
                //这是我定位的第一个按钮的代码
                //var btn0 = layer[0].childNodes[3].childNodes[0];
            },
            btn: ['保存', '取消'],
            btnAlign: 'r', //按钮居右
            //shade: 0 ,//不显示遮罩
            btn1: function (index, layero) {//保存回调
                if (!check("updateModal")) {
                    return false;
                }
                jQuery('#' + modelId).ajaxSubmit({      //ajax方式提交表单

                    url: urls.update,
                    type: 'post',
                    dataType: 'json',
                    beforeSubmit: function () {
                    },
                    success: function (json) {

                        if (json.code == 0) {
                            var tips = layer.alert(json.msg, {
                                icon: 1,
                                skin: 'layer-ext-moon',
                                closeBtn: 0

                            }, function (thisIndex, layero) {
                                initGetShowCol(initTable);
                                layer.close(index);
                                layer.close(thisIndex);
                            });
                        } else {
                            failAlert(json.msg);
                        }
                    },
                    clearForm: false,//禁止清楚表单
                    resetForm: false //禁止重置表单
                });
                return false; //开启该代码可禁止点击该按钮关闭
            },
            btn2: function (index, layero) {//取消回调
                layer.close(index);
            }
        });


    }

    //显示删除弹窗
    function deleteRow(obj, data) {
        if (isNotPower(baseData.cees_user)) {
            return false
        }

        if (data.state == "提交") {
            failAlert("不能删除已提交数据！");
            return;
        }

        layer.confirm('真的删除行么', {
            icon: 3,
            title: '提示'
        }, function (index) {

            jQuery.ajax({
                type: 'post',
                url: urls.delete,
                dataType: 'json',
                data: {'kyid': data.kyid},
                async: false,
                success: function (json) {
                    if (json.code == 0) {
                        initGetShowCol(initTable);
                        successAlert(json.msg);

                    } else {
                        failAlert(json.msg);
                    }
                },
                err: function (err) {
                    failAlert("连接服务器失败,请重试！");
                }
            });

            obj.del();
            layer.close(index);
        });
    }

    //显示查看弹窗
    function showDetailModal(obj, data) {

        var detailFormID = 'detailModal';
        var domStr = jQuery("#updateModal").html();
        jQuery("#" + detailFormID).html(domStr);
        jQuery("#" + detailFormID + " input,select").attr("disabled", "disabled");
        //初始化数据
        initModelByData(data, detailFormID, moadlHtmls.update);

        layer.open({
            title: "查看",
            type: 1,
            area: ['1240px', '620px'], //宽高
            content: jQuery('#' + detailFormID),
            success: function (layer) {
                //这个函数就是在弹窗弹出成功后执行的函数
                //这个layer包含了弹窗里面的所有的html内容
                //有了这个就非常好办了，我用js调试了一下马上就定位到了弹窗框的位置然后改了他的class属性，     成功。
                //这是我定位的第一个按钮的代码
                //var btn0 = layer[0].childNodes[3].childNodes[0];
            },
            btn: ['取消'],
            btnAlign: 'r', //按钮居右
            //shade: 0 ,//不显示遮罩
            btn1: function (index, layero) {
                layer.close(index);
            }
        });
    }

    //显示打印弹窗
    function showPrintModal(obj, data) {
        var formID = 'printModal';
        initPrintModel(formID, data)


        layer.open({
            title: "查看",
            type: 1,
            area: ['1240px', '620px'], //宽高
            content: jQuery('#printModal'),
            success: function (layer) {
                //这个函数就是在弹窗弹出成功后执行的函数
                //这个layer包含了弹窗里面的所有的html内容
                //有了这个就非常好办了，我用js调试了一下马上就定位到了弹窗框的位置然后改了他的class属性，成功。
                //这是我定位的第一个按钮的代码
                //var btn0 = layer[0].childNodes[3].childNodes[0];
            },
            btn: ['打印', '取消'],
            btnAlign: 'r', //按钮居右
            //shade: 0 ,//不显示遮罩
            btn1: function (index, layero) {
                jQuery('#printModal').print();
            },
            btn2: function (index, layero) {
                layer.close(index);
            }
        });
    }

    //初始化当前页面的弹窗默认数据
    function initThisModalDefaultData(jqFormDom) {
        jqFormDom.find("input[name='SKYHTJ']").val('标养');
        //施工单位
        jqFormDom.find("input[name='construction']").val(baseData.cees_construction.construction);
        jqFormDom.find("input[name='client']").val(baseData.cees_construction.client);
        jqFormDom.find("input[name='cid']").val(baseData.cees_construction.cid);

        //混凝土单位
        var domStr = '';
        for (var i = 0; i < baseData.cees_concreteList.length; i++) {
            var concrete = baseData.cees_concreteList[i];
            domStr += '<option value="' + concrete.ccid + '">' + concrete.concrete + '</option>';
        }
        jqFormDom.find("select[name='ccid']").html(domStr);
        //工程
        jqFormDom.find("input[name='project']").val(baseData.cees_project.project);
    }

    //初始化修改和查看页面数据
    function initModelDataByData(data, formID) {
        var jqForm = jQuery("#" + formID);
        //为普通输入框赋值
        initModalInput(data, formID);
        //为弹窗灌入一些基础的数据
        initThisModalDefaultData(jqForm);
        //下拉框选中
        //选择混凝土单位
        jqForm.find("select[name='SJQD']").val(data.sjqd);
        //选择混凝土单位
        jqForm.find("select[name='ccid']").val(data.ccid);
        //水泥品种
        jqForm.find("select[name='SNPZ']").val(data.snpz);
        //水泥标号
        jqForm.find("select[name='SNBH']").val(data.snbh);
        //砂子品种
        jqForm.find("select[name='SHAPZ']").val(data.shapz);
        //石子品种
        jqForm.find("select[name='SHIPZ']").val(data.shipz);
        //（石子）最大粒径
        jqForm.find("select[name='SHIZDLJ']").val(data.shizdlj);
        //粉煤灰名称
        jqForm.find("select[name='FMHMC']").val(data.fmhmc);
        //掺合料名称
        jqForm.find("select[name='CHLMC']").val(data.chlmc);
        //外加剂名称
        jqForm.find("select[name='WJJMC']").val(data.wjjmc);
        //外加剂名称2
        jqForm.find("select[name='PZJMC']").val(data.pzjmc);
        //试件尺寸
        jqForm.find("select[name='SJCC']").val(data.sjcc);
        initLayuiFormSelect();//初始化select

        //水泥的出场日期
        initLayuiLaydateTimeStr(jqForm.find("input[name='SNCCRQ']"), data.snccrq);
        //试块收到日期
        initLayuiLaydateTimeStr(jqForm.find("input[name='SKSDRQ']"), data.sksdrq);
        //制模日期
        initLayuiLaydateTimeStr(jqForm.find("input[name='ZMRQ']"), data.zmrq);
        //要求试验日期
        initLayuiLaydateTimeStr(jqForm.find("input[name='YQSYRQ']"), data.yqsyrq);
        //试验日期
        initLayuiLaydateTimeStr(jqForm.find("input[name='SYRQ']"), data.syrq);
        //报告日期
        initLayuiLaydateTimeStr(jqForm.find("input[name='BGRQ']"), data.bgrq);

    }

    //添加 - 初始化弹窗
    function initAddModel(formID) {
        //为添加更新表单
        var jqForm = jQuery("#" + formID);
        jqForm.html(moadlHtmls.add);

        //初始化弹窗的默认数据
        initThisModalDefaultData(jqForm);

        //初始化没有事件的时间空间
        var initLaydateArr = jqForm.find("input[name='SNCCRQ'],[name='SKSDRQ'],[name='SKSDRQ'],[name='BGRQ']");
        initLayuiLaydateByArr(initLaydateArr);
        //设置制模龄期
        var lq = 28;
        initLayuiLaydateTime(jqForm.find("input[name='ZMRQ']"), new Date());
        initLayuiLaydateTime(jqForm.find("input[name='YQSYRQ'],[name='SYRQ']"), getNewTime(new Date(), lq));
        jqForm.find("input[name='YQLQ'],[name='SJLQ']").val(lq);

        //初始化select
        initLayuiFormSelect();
    }


    //修改 - 初始化弹窗
    function initModelByData(data, formID, html) {
        var jqForm = jQuery("#" + formID);
        jqForm.html(html);
        initModelDataByData(data, formID);
    }

    //查看 - 初始化弹窗
    function initDetailModel() {

    }

    //打印 - 初始化弹窗
    function initPrintModel(formID, data) {
        jQuery("#" + formID).html(moadlHtmls.print);


        var tds = [];
        jQuery("#" + formID + " td").each(function () {

            var name = $(this).attr("name");
            if (name != undefined && name != "" && name != null) {
                tds.push($(this));
            }
        });


        for (var key in data) {
            var value = data[key];

            if (value == null || value == undefined || value == "") {
                continue;
            }
            var dom = getPrintModelDom(key, tds);

            if (dom == undefined) {
                continue;
            }
            if (key.indexOf("rq") > 0 || key.indexOf("RQ") > 0) {
                value = getTime(value);
            }

            var domHtml = dom.html();
            if (domHtml == undefined || domHtml == '') {
                dom.html(value);
            } else {
                dom.html(domHtml + " - " + value);
            }
        }

        jQuery("#" + formID + " [name='construction']").html(baseData.cees_construction.construction)
        jQuery("#" + formID + " [name='project,SGBW']").html(baseData.cees_project.project + ' - ' + jQuery("#" + formID + " [name='project,SGBW']").html());
    }

    //校验参数通过返回true
    function check(formId) {
        if (isNull($("#" + formId + " input[name='SGBW']").val())) {
            failAlert("请填写施工部位！");
            return false;
        }
        if (isNull($("#" + formId + " input[name='ZMRQ']").val())) {
            failAlert("请选择制模日期！");
            return false;
        }
        if (isNotNum($("#" + formId + " input[name='YQLQ']").val())) {
            failAlert("请为要求龄期输入正整数！");
            return false;
        }
        if (isNotNum($("#" + formId + " input[name='SJLQ']").val())) {
            failAlert("请为实际龄期输入正整数！");
            return false;
        }
        return true;
    }
</script>

